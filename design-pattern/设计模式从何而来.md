# 走进设计模式

### 爱马叔的设计模式初体验

我想先回忆一下我和设计模式的第一次接触，虽然这并不是什么好的体验。故事发生在我第一次跳槽。

图1 十多年前，工作一年多的年轻爱马叔觉得自己翅膀硬了

图2 信心满满去面试

图3 你知道工厂模式吗？我开发的是银行系统，不用工厂模式。。。

图4 面试官面面相觑，你是玩我们的吧！



于是我开始疯狂学习设计模式。但是有些走火入魔

图1 奋力学习

图2 这代码得用XX模式+XX模式

图3 看到别人的代码，你这不行啊，没用XX模式

图4 和别人显摆，我会单例模式的7种写法！



想想这些经历，自己当时就是莎士比亚口中的 **too young,too simple,sometimes naive**！



从不知道什么是设计模式，到生搬硬套，再到灵活运用，这是认知不断提升的结果。但是很多同学都倒在了第一步。看完经典的GOF的《设计模式》著作，大部分同学经历了从入门到放弃。甚至作者在前言里也鼓励道：“第一次阅读此书时你可能不会完全理解他 ，但不必着急，我们在起初边写这本书时也没有完全理解它们！” 但是嘴上说不急，心里还是急啊。毕竟不想在面试中再被暴击。

其实设计模式并没有那么晦涩难懂。相反，所有设计模式在现实世界都能找到类似参照。原因是设计模式本就来源于现实世界。

### 设计模式是什么？

我们先看看模式是什么。

建筑学家 Christopher Alexander 说过：**每一个模式描述了一个在我们周围不断发生的问题，以及该问题的解决方案的核心。**这样，你就可以一次又一次地使用该方案而不必做重复的劳动。

这句话说的太通用了，放到软件领域完全适用啊！如果不了解 Alexander，没准以为这是哪位计算机领域的大神呢！

模式是解决问题的方案总结。无论在什么行业、什么界，甭管软的、硬的。只要问题相似，都可以用类似的方案解决。

在GOF的书中，是这样定义设计模式的----“**它描述了在面向对象软件设计过程中针对特定问题的简洁而优雅地解决方案**”。解决方案并不是一蹴而就，而是在人们面对同一类问题不断思考，不断优化，通过长时间的打磨让其变得简洁而优雅。

### 现实世界无处不在的设计模式

软件中的设计基本上都是参照现实世界。不信我们可以看一看自己一天的生活。

图一：穿衣照镜子，工厂生产的衣服，装饰自己

图二：电脑连接显示器、鼠标、键盘。组成工作站，插上电源 adapter

图三：美团代理你的午餐购买

图四：偷懒睡觉，经理来了通知我

图五： 晚上thread进入sleep，第二天被interrupted

真的是充满设计模式的一天！

### 我们是解决方案的搬运工

面向对象语言让软件和现实世界能够形成更为直观的映射**，因此人类几千年在现实世界中积累的优秀设计和实践，可以被直接转化运用到软件之中。**当你读过大量优秀代码、了解过大量软件的设计后会发现，越是优秀的设计越来自于现实世界。

当你面对一个编程难题，可以跳出来想一想现实世界中有没有类似问题，相应的解决方案是什么。我们只需要把现实世界造好的轮子搬到软件中即可。站在人类几千年的文明之上，还会有什么不能解决的软件难题吗？

图：编码，脑海中是各种文明科技，

**模式是通用的，善用现实世界的方案解决软件问题，是优秀软件设计者的必备技能。**